<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Order - Transportation System</title>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body>
    <div th:replace="~{fragments/header :: header}"></div>
    
    <div class="container">
        <h1 class="form-title">Create New Transportation Order</h1>
        
        <div class="card">
            <div class="card-body">
                <form id="orderForm">
                    <div class="form-group">
                        <label for="cargoType" class="form-label">Cargo Type</label>
                        <div class="cargo-types">
                            <div class="cargo-type-option" data-value="GRAIN">Grain</div>
                            <div class="cargo-type-option" data-value="WHEAT">Wheat</div>
                            <div class="cargo-type-option" data-value="CORN">Corn</div>
                            <div class="cargo-type-option" data-value="BARLEY">Barley</div>
                            <div class="cargo-type-option" data-value="SAND">Sand</div>
                            <div class="cargo-type-option" data-value="GRAVEL">Gravel</div>
                            <div class="cargo-type-option" data-value="METAL">Metal</div>
                            <div class="cargo-type-option" data-value="HAZARDOUS">Hazardous</div>
                        </div>
                        <input type="hidden" id="cargoType" name="cargoType" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="cargoWeight" class="form-label">Cargo Weight (kg)</label>
                        <input type="number" id="cargoWeight" name="cargoWeight" class="form-control" min="1000" step="100" required>
                        <small class="form-text text-muted">
                            Optimal weight range is 15,000 - 20,000 kg. Lower weights may incur higher per-ton costs.
                        </small>
                    </div>
                    
                    <div class="form-group">
                        <label for="startLocation" class="form-label">Start Location</label>
                        <input type="text" id="startLocation" name="startLocation" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="endLocation" class="form-label">End Location</label>
                        <input type="text" id="endLocation" name="endLocation" class="form-control" required>
                    </div>
                    
                    <div class="form-group">
                        <button type="button" id="calculatePriceButton" class="btn btn-secondary">Calculate Price</button>
                    </div>
                    
                    <div id="pricePreview" class="price-preview" style="display: none;">
                        <h3>Price Estimate</h3>
                        <div class="price-details">
                            <span>Cargo Type:</span>
                            <span id="previewCargoType"></span>
                        </div>
                        <div class="price-details">
                            <span>Weight:</span>
                            <span id="previewWeight"></span>
                        </div>
                        <div class="price-details">
                            <span>Distance:</span>
                            <span id="previewDistance"></span>
                        </div>
                        <div class="price-details">
                            <span>Route:</span>
                            <span id="previewRoute"></span>
                        </div>
                        <div class="price-total">
                            <span>Total Price:</span>
                            <span id="previewPrice"></span>
                        </div>
                    </div>
                    
                    <div class="form-group mt-3">
                        <button type="submit" class="btn btn-primary btn-block">Create Order</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <div th:replace="~{fragments/footer :: footer}"></div>
    
    <script th:src="@{/js/auth.js}"></script>
    <script th:src="@{/js/customer.js}"></script>
</body>
</html>
